{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///D:/Kargo/kargo/app/page.tsx"],"sourcesContent":["import {\n  Package,\n  TrendingDown,\n  Clock,\n  ArrowUpRight,\n  ArrowDownRight,\n  MoreHorizontal,\n  Truck,\n  AlertCircle,\n} from \"lucide-react\";\nimport { getDashboardMetrics } from \"./actions\";\nimport { prisma } from \"./lib/prisma\";\n\nexport default async function Home() {\n  const metrics = await getDashboardMetrics();\n\n  const recentOperations = await prisma.operation.findMany({\n    take: 5,\n    orderBy: { updatedAt: 'desc' },\n    include: { moves: { include: { product: true } } }\n  });\n\n  const kpiData = [\n    {\n      label: \"Total Products\",\n      value: metrics.totalProducts.toString(),\n      change: \"+0%\", // Placeholder\n      trend: \"up\",\n      icon: Package,\n      color: \"blue\",\n      description: \"Active inventory items\"\n    },\n    {\n      label: \"Low Stock Items\",\n      value: metrics.lowStockCount.toString(),\n      change: \"0%\", // Placeholder\n      trend: \"down\",\n      icon: AlertCircle,\n      color: \"red\",\n      description: \"Requires attention\"\n    },\n    {\n      label: \"Pending Operations\",\n      value: metrics.pendingOps.toString(),\n      change: \"+0\", // Placeholder\n      trend: \"up\",\n      icon: Clock,\n      color: \"amber\",\n      description: \"To be processed\"\n    },\n  ];\n\n  return (\n    <div className=\"flex flex-col gap-8 pb-10\">\n      {/* KPI Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n        {kpiData.map((kpi, index) => (\n          <div\n            key={index}\n            className=\"group bg-white border border-slate-200/60 rounded-2xl p-6 shadow-sm hover:shadow-md transition-all duration-300 relative overflow-hidden\"\n          >\n            <div className={`absolute top-0 right-0 w-32 h-32 bg-${kpi.color}-50 rounded-full -mr-16 -mt-16 transition-transform group-hover:scale-110`} />\n\n            <div className=\"relative flex justify-between items-start mb-4\">\n              <div className={`p-3 rounded-xl ${kpi.color === \"blue\" ? \"bg-blue-50 text-blue-600\" :\n                kpi.color === \"red\" ? \"bg-red-50 text-red-600\" :\n                  \"bg-amber-50 text-amber-600\"\n                }`}>\n                <kpi.icon className=\"w-6 h-6\" />\n              </div>\n              <div className={`flex items-center text-sm font-semibold px-2.5 py-1 rounded-full ${kpi.trend === \"up\" ? \"text-emerald-700 bg-emerald-50\" : \"text-rose-700 bg-rose-50\"\n                }`}>\n                {kpi.trend === \"up\" ? (\n                  <ArrowUpRight className=\"w-3.5 h-3.5 mr-1\" />\n                ) : (\n                  <ArrowDownRight className=\"w-3.5 h-3.5 mr-1\" />\n                )}\n                {kpi.change}\n              </div>\n            </div>\n\n            <div className=\"relative\">\n              <h3 className=\"text-slate-500 text-sm font-medium mb-1\">{kpi.label}</h3>\n              <div className=\"flex items-baseline gap-2\">\n                <p className=\"text-3xl font-bold text-slate-900 tracking-tight\">{kpi.value}</p>\n                <span className=\"text-xs text-slate-400 font-medium\">{kpi.description}</span>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n        {/* Operations Overview */}\n        <div className=\"lg:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-6\">\n          <div className=\"bg-white border border-slate-200/60 rounded-2xl p-6 shadow-sm hover:border-blue-200 transition-colors\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"p-2 bg-blue-50 rounded-lg\">\n                  <Package className=\"w-5 h-5 text-blue-600\" />\n                </div>\n                <h3 className=\"text-lg font-bold text-slate-900\">Receipts</h3>\n              </div>\n              <span className=\"text-xs font-bold bg-blue-100 text-blue-700 px-2.5 py-1 rounded-full\">\n                {metrics.pendingOps} Pending\n              </span>\n            </div>\n\n            <div className=\"space-y-4 mb-6\">\n              <div className=\"flex justify-between text-sm\">\n                <span className=\"text-slate-500\">Progress</span>\n                <span className=\"text-slate-900 font-medium\">65%</span>\n              </div>\n              <div className=\"h-2 w-full bg-slate-100 rounded-full overflow-hidden\">\n                <div className=\"h-full bg-blue-500 w-[65%] rounded-full\" />\n              </div>\n              <div className=\"flex gap-4 text-xs text-slate-500 font-medium\">\n                <span className=\"flex items-center gap-1\"><span className=\"w-2 h-2 rounded-full bg-rose-500\"></span> 1 Late</span>\n                <span className=\"flex items-center gap-1\"><span className=\"w-2 h-2 rounded-full bg-slate-300\"></span> 6 Total</span>\n              </div>\n            </div>\n\n            <button className=\"w-full py-2.5 border border-slate-200 rounded-xl text-sm font-semibold text-slate-700 hover:bg-slate-50 hover:text-slate-900 transition-all\">\n              View All Receipts\n            </button>\n          </div>\n\n          <div className=\"bg-white border border-slate-200/60 rounded-2xl p-6 shadow-sm hover:border-emerald-200 transition-colors\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"p-2 bg-emerald-50 rounded-lg\">\n                  <Truck className=\"w-5 h-5 text-emerald-600\" />\n                </div>\n                <h3 className=\"text-lg font-bold text-slate-900\">Deliveries</h3>\n              </div>\n              <span className=\"text-xs font-bold bg-emerald-100 text-emerald-700 px-2.5 py-1 rounded-full\">\n                {metrics.pendingOps} Pending\n              </span>\n            </div>\n\n            <div className=\"space-y-4 mb-6\">\n              <div className=\"flex justify-between text-sm\">\n                <span className=\"text-slate-500\">Progress</span>\n                <span className=\"text-slate-900 font-medium\">80%</span>\n              </div>\n              <div className=\"h-2 w-full bg-slate-100 rounded-full overflow-hidden\">\n                <div className=\"h-full bg-emerald-500 w-[80%] rounded-full\" />\n              </div>\n              <div className=\"flex gap-4 text-xs text-slate-500 font-medium\">\n                <span className=\"flex items-center gap-1\"><span className=\"w-2 h-2 rounded-full bg-rose-500\"></span> 1 Late</span>\n                <span className=\"flex items-center gap-1\"><span className=\"w-2 h-2 rounded-full bg-amber-400\"></span> 2 Waiting</span>\n              </div>\n            </div>\n\n            <button className=\"w-full py-2.5 border border-slate-200 rounded-xl text-sm font-semibold text-slate-700 hover:bg-slate-50 hover:text-slate-900 transition-all\">\n              View All Deliveries\n            </button>\n          </div>\n        </div>\n\n        {/* Quick Actions / Promo */}\n        <div className=\"bg-gradient-to-br from-blue-600 to-indigo-700 rounded-2xl p-6 text-white shadow-lg shadow-blue-200 flex flex-col justify-between relative overflow-hidden\">\n          <div className=\"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full -mr-20 -mt-20 blur-3xl\" />\n\n          <div className=\"relative z-10\">\n            <div className=\"w-10 h-10 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center mb-4\">\n              <TrendingDown className=\"w-6 h-6 text-white\" />\n            </div>\n            <h3 className=\"font-bold text-xl mb-2\">AI Forecasting</h3>\n            <p className=\"text-blue-100 text-sm leading-relaxed mb-6\">\n              Predict stock shortages before they happen with our new AI-powered engine.\n            </p>\n          </div>\n\n          <button className=\"relative z-10 bg-white text-blue-600 px-4 py-3 rounded-xl text-sm font-bold hover:bg-blue-50 transition-colors shadow-sm w-full\">\n            Try Pro Features\n          </button>\n        </div>\n      </div>\n\n      {/* Recent Activity */}\n      <div className=\"bg-white border border-slate-200/60 rounded-2xl shadow-sm overflow-hidden\">\n        <div className=\"p-6 border-b border-slate-100 flex items-center justify-between\">\n          <div>\n            <h2 className=\"text-lg font-bold text-slate-900\">Recent Activity</h2>\n            <p className=\"text-sm text-slate-500\">Latest inventory movements</p>\n          </div>\n          <button className=\"text-sm font-medium text-blue-600 hover:text-blue-700 hover:underline\">\n            View All\n          </button>\n        </div>\n\n        <div className=\"divide-y divide-slate-100\">\n          {recentOperations.length === 0 ? (\n            <div className=\"p-12 text-center\">\n              <div className=\"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-4\">\n                <Package className=\"w-8 h-8 text-slate-300\" />\n              </div>\n              <h3 className=\"text-slate-900 font-medium mb-1\">No operations yet</h3>\n              <p className=\"text-slate-500 text-sm mb-6\">Create your first receipt or delivery to see activity here.</p>\n              <a href=\"/operations/receipt\" className=\"inline-flex items-center justify-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-xl hover:bg-blue-700 transition-colors\">\n                Create Receipt\n              </a>\n            </div>\n          ) : (\n            recentOperations.map((op: any) => (\n              <div\n                key={op.id}\n                className=\"group p-4 hover:bg-slate-50/80 transition-colors flex items-center justify-center md:justify-between flex-col md:flex-row gap-4\"\n              >\n                <div className=\"flex items-center gap-4 w-full md:w-auto\">\n                  <div className={`w-10 h-10 rounded-full flex items-center justify-center border ${op.type === \"RECEIPT\" ? \"bg-blue-50 border-blue-100 text-blue-600\" :\n                    op.type === \"DELIVERY\" ? \"bg-emerald-50 border-emerald-100 text-emerald-600\" :\n                      \"bg-amber-50 border-amber-100 text-amber-600\"\n                    }`}>\n                    {op.type === \"RECEIPT\" ? <Package className=\"w-5 h-5\" /> :\n                      op.type === \"DELIVERY\" ? <Truck className=\"w-5 h-5\" /> :\n                        <TrendingDown className=\"w-5 h-5\" />}\n                  </div>\n                  <div>\n                    <p className=\"font-semibold text-slate-900 text-sm\">\n                      {op.type} <span className=\"text-slate-400 font-normal mx-1\">â€¢</span> {op.reference}\n                    </p>\n                    <p className=\"text-xs text-slate-500 mt-0.5 flex items-center gap-2\">\n                      <span>{new Date(op.updatedAt).toLocaleDateString()}</span>\n                      <span className=\"w-1 h-1 rounded-full bg-slate-300\" />\n                      <span>Items: <span className=\"font-medium text-slate-700\">{op.moves.length}</span></span>\n                    </p>\n                  </div>\n                </div>\n\n                <div className=\"flex items-center gap-6 w-full md:w-auto justify-between md:justify-end\">\n                  <span className={`px-2.5 py-1 rounded-full text-xs font-medium border ${op.status === \"DONE\"\n                    ? \"bg-slate-100 text-slate-600 border-slate-200\"\n                    : \"bg-amber-50 text-amber-600 border-amber-100\"\n                    }`}>\n                    {op.status}\n                  </span>\n                  <button className=\"text-slate-300 hover:text-slate-600 transition-colors\">\n                    <MoreHorizontal className=\"w-5 h-5\" />\n                  </button>\n                </div>\n              </div>\n            ))\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;;;;;AAEe,eAAe;IAC5B,MAAM,UAAU,MAAM,IAAA,qIAAmB;IAEzC,MAAM,mBAAmB,MAAM,8HAAM,CAAC,SAAS,CAAC,QAAQ,CAAC;QACvD,MAAM;QACN,SAAS;YAAE,WAAW;QAAO;QAC7B,SAAS;YAAE,OAAO;gBAAE,SAAS;oBAAE,SAAS;gBAAK;YAAE;QAAE;IACnD;IAEA,MAAM,UAAU;QACd;YACE,OAAO;YACP,OAAO,QAAQ,aAAa,CAAC,QAAQ;YACrC,QAAQ;YACR,OAAO;YACP,MAAM,mNAAO;YACb,OAAO;YACP,aAAa;QACf;QACA;YACE,OAAO;YACP,OAAO,QAAQ,aAAa,CAAC,QAAQ;YACrC,QAAQ;YACR,OAAO;YACP,MAAM,mOAAW;YACjB,OAAO;YACP,aAAa;QACf;QACA;YACE,OAAO;YACP,OAAO,QAAQ,UAAU,CAAC,QAAQ;YAClC,QAAQ;YACR,OAAO;YACP,MAAM,6MAAK;YACX,OAAO;YACP,aAAa;QACf;KACD;IAED,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;0BACZ,QAAQ,GAAG,CAAC,CAAC,KAAK,sBACjB,8OAAC;wBAEC,WAAU;;0CAEV,8OAAC;gCAAI,WAAW,CAAC,oCAAoC,EAAE,IAAI,KAAK,CAAC,yEAAyE,CAAC;;;;;;0CAE3I,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAW,CAAC,eAAe,EAAE,IAAI,KAAK,KAAK,SAAS,6BACvD,IAAI,KAAK,KAAK,QAAQ,2BACpB,8BACA;kDACF,cAAA,8OAAC,IAAI,IAAI;4CAAC,WAAU;;;;;;;;;;;kDAEtB,8OAAC;wCAAI,WAAW,CAAC,iEAAiE,EAAE,IAAI,KAAK,KAAK,OAAO,mCAAmC,4BACxI;;4CACD,IAAI,KAAK,KAAK,qBACb,8OAAC,0OAAY;gDAAC,WAAU;;;;;qEAExB,8OAAC,gPAAc;gDAAC,WAAU;;;;;;4CAE3B,IAAI,MAAM;;;;;;;;;;;;;0CAIf,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAG,WAAU;kDAA2C,IAAI,KAAK;;;;;;kDAClE,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAE,WAAU;0DAAoD,IAAI,KAAK;;;;;;0DAC1E,8OAAC;gDAAK,WAAU;0DAAsC,IAAI,WAAW;;;;;;;;;;;;;;;;;;;uBA3BpE;;;;;;;;;;0BAkCX,8OAAC;gBAAI,WAAU;;kCAEb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAI,WAAU;kEACb,cAAA,8OAAC,mNAAO;4DAAC,WAAU;;;;;;;;;;;kEAErB,8OAAC;wDAAG,WAAU;kEAAmC;;;;;;;;;;;;0DAEnD,8OAAC;gDAAK,WAAU;;oDACb,QAAQ,UAAU;oDAAC;;;;;;;;;;;;;kDAIxB,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAK,WAAU;kEAAiB;;;;;;kEACjC,8OAAC;wDAAK,WAAU;kEAA6B;;;;;;;;;;;;0DAE/C,8OAAC;gDAAI,WAAU;0DACb,cAAA,8OAAC;oDAAI,WAAU;;;;;;;;;;;0DAEjB,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAK,WAAU;;0EAA0B,8OAAC;gEAAK,WAAU;;;;;;4DAA0C;;;;;;;kEACpG,8OAAC;wDAAK,WAAU;;0EAA0B,8OAAC;gEAAK,WAAU;;;;;;4DAA2C;;;;;;;;;;;;;;;;;;;kDAIzG,8OAAC;wCAAO,WAAU;kDAA8I;;;;;;;;;;;;0CAKlK,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAI,WAAU;kEACb,cAAA,8OAAC,6MAAK;4DAAC,WAAU;;;;;;;;;;;kEAEnB,8OAAC;wDAAG,WAAU;kEAAmC;;;;;;;;;;;;0DAEnD,8OAAC;gDAAK,WAAU;;oDACb,QAAQ,UAAU;oDAAC;;;;;;;;;;;;;kDAIxB,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAK,WAAU;kEAAiB;;;;;;kEACjC,8OAAC;wDAAK,WAAU;kEAA6B;;;;;;;;;;;;0DAE/C,8OAAC;gDAAI,WAAU;0DACb,cAAA,8OAAC;oDAAI,WAAU;;;;;;;;;;;0DAEjB,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAK,WAAU;;0EAA0B,8OAAC;gEAAK,WAAU;;;;;;4DAA0C;;;;;;;kEACpG,8OAAC;wDAAK,WAAU;;0EAA0B,8OAAC;gEAAK,WAAU;;;;;;4DAA2C;;;;;;;;;;;;;;;;;;;kDAIzG,8OAAC;wCAAO,WAAU;kDAA8I;;;;;;;;;;;;;;;;;;kCAOpK,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;;;;;0CAEf,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;kDACb,cAAA,8OAAC,sOAAY;4CAAC,WAAU;;;;;;;;;;;kDAE1B,8OAAC;wCAAG,WAAU;kDAAyB;;;;;;kDACvC,8OAAC;wCAAE,WAAU;kDAA6C;;;;;;;;;;;;0CAK5D,8OAAC;gCAAO,WAAU;0CAAkI;;;;;;;;;;;;;;;;;;0BAOxJ,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;;kDACC,8OAAC;wCAAG,WAAU;kDAAmC;;;;;;kDACjD,8OAAC;wCAAE,WAAU;kDAAyB;;;;;;;;;;;;0CAExC,8OAAC;gCAAO,WAAU;0CAAwE;;;;;;;;;;;;kCAK5F,8OAAC;wBAAI,WAAU;kCACZ,iBAAiB,MAAM,KAAK,kBAC3B,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC,mNAAO;wCAAC,WAAU;;;;;;;;;;;8CAErB,8OAAC;oCAAG,WAAU;8CAAkC;;;;;;8CAChD,8OAAC;oCAAE,WAAU;8CAA8B;;;;;;8CAC3C,8OAAC;oCAAE,MAAK;oCAAsB,WAAU;8CAA8I;;;;;;;;;;;mCAKxL,iBAAiB,GAAG,CAAC,CAAC,mBACpB,8OAAC;gCAEC,WAAU;;kDAEV,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAI,WAAW,CAAC,+DAA+D,EAAE,GAAG,IAAI,KAAK,YAAY,6CACxG,GAAG,IAAI,KAAK,aAAa,sDACvB,+CACA;0DACD,GAAG,IAAI,KAAK,0BAAY,8OAAC,mNAAO;oDAAC,WAAU;;;;;2DAC1C,GAAG,IAAI,KAAK,2BAAa,8OAAC,6MAAK;oDAAC,WAAU;;;;;yEACxC,8OAAC,sOAAY;oDAAC,WAAU;;;;;;;;;;;0DAE9B,8OAAC;;kEACC,8OAAC;wDAAE,WAAU;;4DACV,GAAG,IAAI;4DAAC;0EAAC,8OAAC;gEAAK,WAAU;0EAAkC;;;;;;4DAAQ;4DAAE,GAAG,SAAS;;;;;;;kEAEpF,8OAAC;wDAAE,WAAU;;0EACX,8OAAC;0EAAM,IAAI,KAAK,GAAG,SAAS,EAAE,kBAAkB;;;;;;0EAChD,8OAAC;gEAAK,WAAU;;;;;;0EAChB,8OAAC;;oEAAK;kFAAO,8OAAC;wEAAK,WAAU;kFAA8B,GAAG,KAAK,CAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kDAKhF,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAK,WAAW,CAAC,oDAAoD,EAAE,GAAG,MAAM,KAAK,SAClF,iDACA,+CACA;0DACD,GAAG,MAAM;;;;;;0DAEZ,8OAAC;gDAAO,WAAU;0DAChB,cAAA,8OAAC,kOAAc;oDAAC,WAAU;;;;;;;;;;;;;;;;;;+BAhCzB,GAAG,EAAE;;;;;;;;;;;;;;;;;;;;;;AA0C1B"}}]
}