(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,95187,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});var l={callServer:function(){return a.callServer},createServerReference:function(){return d.createServerReference},findSourceMapURL:function(){return n.findSourceMapURL}};for(var r in l)Object.defineProperty(s,r,{enumerable:!0,get:l[r]});let a=e.r(32120),n=e.r(92245),d=e.r(35326)},7233,e=>{"use strict";let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},60961,e=>{"use strict";var t=e.i(95187),s=(0,t.createServerReference)("40cb085986bcc83091452049a13d27533875576451",t.callServer,void 0,t.findSourceMapURL,"validateOperation");e.s(["validateOperation",()=>s])},51200,e=>{"use strict";var t=e.i(43476),s=e.i(71645),l=e.i(39616),r=e.i(75254);let a=(0,r.default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),n=(0,r.default)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]),d=(0,r.default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);var i=e.i(7233),c=e.i(95187),o=(0,c.createServerReference)("601e7be4a554018033a5fdd394647b95af987dd3ed",c.callServer,void 0,c.findSourceMapURL,"createAdjustmentOperation"),u=e.i(60961),m=e.i(46696);function x({initialAdjustments:e,products:r}){let[c,x]=(0,s.useState)("list"),[h,b]=(0,s.useState)(!1),[f,p]=(0,s.useState)(""),[v,j]=(0,s.useState)(1),[g,N]=(0,s.useState)("LOSS");async function y(){if(!f||v<=0)return;b(!0);let e=await o([{productId:f,quantity:v}],g);e.success&&e.operationId?(await (0,u.validateOperation)(e.operationId),m.toast.success("Adjustment validated successfully!"),x("list"),p(""),j(1)):alert(e.error),b(!1)}return(0,t.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,t.jsx)("div",{className:"bg-white border border-slate-200 rounded-2xl p-6 shadow-sm",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:"Adjustment Operations"}),(0,t.jsx)("p",{className:"text-sm text-slate-500 mt-1",children:"list"===c?"Fix inventory counts and handle losses":"Create new inventory adjustment"})]}),(0,t.jsx)("button",{onClick:()=>x("list"===c?"form":"list"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:"list"===c?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.Plus,{className:"w-4 h-4 inline mr-1"})," New Adjustment"]}):"Back to List"})]})}),"list"===c?(0,t.jsxs)("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm overflow-hidden",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-200",children:(0,t.jsx)("h2",{className:"text-lg font-bold text-slate-900",children:"Recent Adjustments"})}),(0,t.jsxs)("div",{className:"divide-y divide-slate-200",children:[e.map(e=>{let s=e.moves[0],l=s?.sourceLocationId&&s?.sourceLocation?.type==="INTERNAL",r=s?.quantity||0,i=s?.product?.name||"Unknown Product";return(0,t.jsx)("div",{className:"p-6 hover:bg-slate-50 transition-colors",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0 ${l?"bg-red-100":"bg-green-100"}`,children:l?(0,t.jsx)(n,{className:"w-6 h-6 text-red-600"}):(0,t.jsx)(d,{className:"w-6 h-6 text-green-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"font-semibold text-slate-900",children:[e.reference," - ",i]}),(0,t.jsx)("div",{className:"flex items-center gap-4 mt-1 text-sm text-slate-500",children:(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(a,{className:"w-4 h-4"})," ",new Date(e.updatedAt).toLocaleDateString()]})})]})]}),(0,t.jsx)("div",{className:"flex items-center gap-4 pl-16 md:pl-0",children:(0,t.jsxs)("div",{className:"text-left md:text-right",children:[(0,t.jsxs)("p",{className:`text-2xl font-bold ${l?"text-red-600":"text-green-600"}`,children:[l?"-":"+",r]}),(0,t.jsx)("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium mt-1 ${l?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:l?"Loss":"Found"})]})})]})},e.id)}),0===e.length&&(0,t.jsxs)("div",{className:"p-12 text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(l.Settings,{className:"w-8 h-8 text-slate-300"})}),(0,t.jsx)("h3",{className:"text-slate-900 font-medium mb-1",children:"No adjustments found"}),(0,t.jsx)("p",{className:"text-slate-500 text-sm mb-6",children:"Create your first inventory adjustment."}),(0,t.jsx)("button",{onClick:()=>x("form"),className:"inline-flex items-center justify-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-xl hover:bg-blue-700 transition-colors",children:"Create Adjustment"})]})]})]}):(0,t.jsxs)("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm overflow-hidden max-w-2xl mx-auto w-full",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-200 flex items-center justify-between",children:(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:y,disabled:h,className:"px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 transition-colors disabled:opacity-50",children:h?"Validating...":"Validate Adjustment"}),(0,t.jsx)("button",{onClick:()=>x("list"),className:"px-4 py-2 border border-slate-200 rounded-lg text-sm font-medium text-slate-700 hover:bg-slate-50 transition-colors",children:"Cancel"})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Product"}),(0,t.jsxs)("select",{value:f,onChange:e=>p(e.target.value),className:"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"",children:"Select Product"}),r.map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.name," (",e.sku,")"]},e.id))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Adjustment Type"}),(0,t.jsxs)("select",{value:g,onChange:e=>N(e.target.value),className:"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"LOSS",children:"Inventory Loss (Remove)"}),(0,t.jsx)("option",{value:"GAIN",children:"Inventory Found (Add)"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Quantity"}),(0,t.jsx)("input",{type:"number",min:"1",value:v,onChange:e=>j(Number(e.target.value)),className:"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]})}e.s(["default",()=>x],51200)}]);