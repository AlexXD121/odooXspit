{"version":3,"sources":["../../../../node_modules/next/src/build/webpack/loaders/next-flight-loader/action-client-wrapper.ts","../../../../node_modules/lucide-react/src/icons/circle-alert.ts","../../../../app/lib/actions/data%3Ada1cac%20%3Ctext/javascript%3E","../../../../app/lib/actions/data%3A7288e3%20%3Ctext/javascript%3E","../../../../app/ui/login-form.tsx","../../../../node_modules/lucide-react/src/icons/loader-circle.ts"],"sourcesContent":["// This file must be bundled in the app's client layer, it shouldn't be directly\n// imported by the server.\n\nexport { callServer } from 'next/dist/client/app-call-server'\nexport { findSourceMapURL } from 'next/dist/client/app-find-source-map-url'\n\n// A noop wrapper to let the Flight client create the server reference.\n// See also: https://github.com/facebook/react/pull/26632\n// eslint-disable-next-line import/no-extraneous-dependencies\nexport { createServerReference } from 'react-server-dom-webpack/client'\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['line', { x1: '12', x2: '12', y1: '8', y2: '12', key: '1pkeuh' }],\n  ['line', { x1: '12', x2: '12.01', y1: '16', y2: '16', key: '4dfq90' }],\n];\n\n/**\n * @component @name CircleAlert\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8bGluZSB4MT0iMTIiIHgyPSIxMiIgeTE9IjgiIHkyPSIxMiIgLz4KICA8bGluZSB4MT0iMTIiIHgyPSIxMi4wMSIgeTE9IjE2IiB5Mj0iMTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/circle-alert\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleAlert = createLucideIcon('circle-alert', __iconNode);\n\nexport default CircleAlert;\n","/* __next_internal_action_entry_do_not_use__ [{\"6089715bce84d2d6ec2b584d091fb47ceb9a4a00c4\":\"authenticate\"},\"app/lib/actions/auth-actions.ts\",\"\"] */\"use turbopack no side effects\";import{createServerReference,callServer,findSourceMapURL}from\"private-next-rsc-action-client-wrapper\";export var authenticate=/*#__PURE__*/createServerReference(\"6089715bce84d2d6ec2b584d091fb47ceb9a4a00c4\",callServer,void 0,findSourceMapURL,\"authenticate\");","/* __next_internal_action_entry_do_not_use__ [{\"40d12781802ab3aab57f0ca9725d2f90dea69b1725\":\"preAuthenticate\"},\"app/lib/actions/auth-actions.ts\",\"\"] */\"use turbopack no side effects\";import{createServerReference,callServer,findSourceMapURL}from\"private-next-rsc-action-client-wrapper\";export var preAuthenticate=/*#__PURE__*/createServerReference(\"40d12781802ab3aab57f0ca9725d2f90dea69b1725\",callServer,void 0,findSourceMapURL,\"preAuthenticate\");","'use client';\r\n\r\nimport { useActionState, useState, useTransition } from 'react';\r\nimport { authenticate, preAuthenticate } from '@/app/lib/actions/auth-actions';\r\nimport { AlertCircle, Loader2 } from 'lucide-react';\r\n\r\nexport default function LoginForm() {\r\n    const [step, setStep] = useState<'credentials' | 'otp'>('credentials');\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [errorMessage, setErrorMessage] = useState<string | null>(null);\r\n    const [isPending, startTransition] = useTransition();\r\n\r\n    const handlePreAuth = (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setErrorMessage(null);\r\n\r\n        startTransition(async () => {\r\n            const formData = new FormData();\r\n            formData.append('email', email);\r\n            formData.append('password', password);\r\n\r\n            try {\r\n                const result = await preAuthenticate(formData);\r\n\r\n                if (result?.error) {\r\n                    setErrorMessage(result.error);\r\n                } else {\r\n                    setStep('otp');\r\n                }\r\n            } catch (error) {\r\n                setErrorMessage('An unexpected error occurred.');\r\n            }\r\n        });\r\n    };\r\n\r\n    const [authErrorMessage, dispatchAuth] = useActionState(authenticate, undefined);\r\n\r\n    return (\r\n        <div className=\"space-y-8\">\r\n            <div className=\"text-center lg:text-left\">\r\n                <h2 className=\"text-3xl font-bold text-slate-900 tracking-tight\">Welcome back</h2>\r\n                <p className=\"text-slate-500 mt-2\">\r\n                    {step === 'credentials'\r\n                        ? 'Please enter your details to sign in.'\r\n                        : 'We sent a code to your email. Enter it below.'}\r\n                </p>\r\n            </div>\r\n\r\n            {step === 'credentials' ? (\r\n                <form onSubmit={handlePreAuth} className=\"space-y-5\">\r\n                    <div className=\"space-y-4\">\r\n                        <div>\r\n                            <label htmlFor=\"email\" className=\"block text-sm font-medium text-slate-700 mb-1.5\">Email Address</label>\r\n                            <input\r\n                                id=\"email\"\r\n                                type=\"email\"\r\n                                placeholder=\"name@company.com\"\r\n                                required\r\n                                value={email}\r\n                                onChange={(e) => setEmail(e.target.value)}\r\n                                className=\"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-slate-900 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all\"\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <label htmlFor=\"password\" className=\"block text-sm font-medium text-slate-700 mb-1.5\">Password</label>\r\n                            <input\r\n                                id=\"password\"\r\n                                type=\"password\"\r\n                                placeholder=\"••••••••\"\r\n                                required\r\n                                value={password}\r\n                                onChange={(e) => setPassword(e.target.value)}\r\n                                className=\"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-slate-900 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    {errorMessage && (\r\n                        <div className=\"flex items-center gap-2 text-rose-600 text-sm bg-rose-50 p-3 rounded-lg border border-rose-100\">\r\n                            <AlertCircle className=\"h-4 w-4 flex-shrink-0\" />\r\n                            <p>{errorMessage}</p>\r\n                        </div>\r\n                    )}\r\n\r\n                    <button\r\n                        type=\"submit\"\r\n                        disabled={isPending}\r\n                        className=\"w-full flex justify-center py-3 px-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-xl shadow-lg shadow-blue-200 transition-all transform active:scale-[0.98] disabled:opacity-70 disabled:cursor-not-allowed\"\r\n                    >\r\n                        {isPending ? <Loader2 className=\"mr-2 h-5 w-5 animate-spin\" /> : null}\r\n                        Continue\r\n                    </button>\r\n                </form>\r\n            ) : (\r\n                <form action={dispatchAuth} className=\"space-y-6\">\r\n                    <input type=\"hidden\" name=\"email\" value={email} />\r\n                    <input type=\"hidden\" name=\"password\" value={password} />\r\n\r\n                    <div>\r\n                        <label htmlFor=\"otp\" className=\"block text-sm font-medium text-slate-700 mb-1.5\">One-Time Password</label>\r\n                        <input\r\n                            id=\"otp\"\r\n                            name=\"otp\"\r\n                            type=\"text\"\r\n                            placeholder=\"000000\"\r\n                            required\r\n                            maxLength={6}\r\n                            className=\"w-full px-4 py-4 bg-slate-50 border border-slate-200 rounded-xl text-slate-900 text-center text-2xl font-mono tracking-[0.5em] focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all\"\r\n                        />\r\n                        <p className=\"text-xs text-center text-slate-400 mt-2\">\r\n                            Code expires in 5 minutes\r\n                        </p>\r\n                    </div>\r\n\r\n                    {authErrorMessage && (\r\n                        <div className=\"flex items-center gap-2 text-rose-600 text-sm bg-rose-50 p-3 rounded-lg border border-rose-100\">\r\n                            <AlertCircle className=\"h-4 w-4 flex-shrink-0\" />\r\n                            <p>{authErrorMessage}</p>\r\n                        </div>\r\n                    )}\r\n\r\n                    <div className=\"space-y-3\">\r\n                        <button\r\n                            type=\"submit\"\r\n                            className=\"w-full flex justify-center py-3 px-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-xl shadow-lg shadow-blue-200 transition-all transform active:scale-[0.98]\"\r\n                        >\r\n                            Sign In\r\n                        </button>\r\n                        <button\r\n                            type=\"button\"\r\n                            onClick={() => setStep('credentials')}\r\n                            className=\"w-full flex justify-center py-3 px-4 bg-white border border-slate-200 text-slate-700 font-semibold rounded-xl hover:bg-slate-50 transition-all\"\r\n                        >\r\n                            Back to Login\r\n                        </button>\r\n                    </div>\r\n                    <div className=\"text-center mt-6\">\r\n                        <p className=\"text-sm text-slate-500\">\r\n                            Don't have an account?{' '}\r\n                            <a href=\"/register\" className=\"text-blue-600 font-semibold hover:underline\">\r\n                                Sign up\r\n                            </a>\r\n                        </p>\r\n                    </div>\r\n                </form>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'M21 12a9 9 0 1 1-6.219-8.56', key: '13zald' }]];\n\n/**\n * @component @name LoaderCircle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTJhOSA5IDAgMSAxLTYuMjE5LTguNTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/loader-circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst LoaderCircle = createLucideIcon('loader-circle', __iconNode);\n\nexport default LoaderCircle;\n"],"names":["callServer","createServerReference","findSourceMapURL"],"mappings":"oGAGSA,UAAU,CAAA,kBAAVA,EAAAA,UAAU,EAMVC,qBAAqB,CAAA,kBAArBA,EAAAA,qBAAqB,EALrBC,gBAAgB,CAAA,kBAAhBA,EAAAA,gBAAgB,8EADE,CAAA,CAAA,IAAA,OACM,CAAA,CAAA,IAAA,MAKK,CAAA,CAAA,IAAA,0BCWtC,CAAA,CAAA,CAAA,CAAA,AAAM,CAAN,CAAM,CAAA,EAAc,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAd,CAAc,AAAd,CAAc,AAAd,CAAc,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,GAAA,EAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAjBD,CAClC,AAgBmD,CAhBlD,AAgBkD,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAhBlD,AAgBkD,CAhBlD,AAAU,AAgBkD,CAAA,AAhBlD,AAAE,EAAA,CAAA,AAAI,CAAA,CAAA,CAAA,CAAA,CAAM,CAAA,CAAA,CAAA,AAAI,IAAA,CAAA,AAAM,CAAA,CAAG,CAAA,CAAA,CAAA,CAAA,CAAA,AAAM,GAAA,CAAA,AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,CACzD,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,AAAR,CAAQ,AAAE,CAAA,CAAA,CAAI,CAAA,CAAA,CAAA,CAAA,CAAA,AAAM,CAAA,CAAA,CAAA,AAAI,CAAA,CAAA,CAAA,CAAA,CAAA,AAAM,EAAA,CAAA,AAAI,CAAA,CAAA,CAAA,CAAA,AAAK,CAAA,CAAA,CAAA,AAAI,CAAA,CAAA,CAAA,CAAA,CAAM,CAAA,CAAA,CAAA,CAAK,AAAL,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,CACjE,CAAC,MAAA,CAAA,AAAQ,CAAA,AAAE,EAAA,CAAI,AAAJ,CAAI,CAAA,CAAA,CAAA,CAAA,AAAM,CAAA,CAAA,CAAA,AAAI,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAS,CAAA,CAAA,CAAA,AAAI,CAAA,CAAA,CAAA,CAAA,CAAA,AAAM,CAAA,CAAA,CAAA,AAAI,IAAA,CAAM,AAAN,CAAM,CAAA,CAAA,CAAA,AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,CACvE,0DCPoL,IAAA,EAAA,EAAA,CAAA,CAAA,MAAiH,EAA0B,CAAA,EAAA,EAAA,QAAb,WAAW,EAAE,AAAqB,EAAC,6CAA6C,EAAA,UAAU,CAAC,KAAK,EAAE,EAAA,gBAAgB,CAAC,oECA9O,IAAA,EAAA,EAAA,CAAA,CAAA,MAAiH,EAA6B,CAAA,EAAA,EAAA,WAAb,UAAa,AAAqB,CAAvB,CAAwB,6CAA6C,EAAA,UAAU,CAAC,KAAK,EAAE,EAAA,gBAAgB,CAAC,2FCE3a,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,MCYA,CAAA,CAAA,CAAA,CAAM,EAAA,CAAA,EAAe,CAAA,CAAA,CAAA,QAAA,OAAA,EAAiB,CAAA,CAAA,cAbF,CAamB,AAblB,CAakB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAbT,AAaS,CAbT,AAaS,AAbP,CAaiB,CAAA,AAbd,8BAA+B,CAAA,CAAA,CAAA,CAAA,AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAC,CAAA,EDGnF,SAAS,IACpB,GAAM,CAAC,EAAM,EAAQ,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAwB,eAClD,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC7B,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACnC,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MAC1D,CAAC,EAAW,EAAgB,CAAG,CAAA,EAAA,EAAA,aAAA,AAAa,IAyB5C,CAAC,EAAkB,EAAa,CAAG,CAAA,EAAA,EAAA,cAAA,AAAc,EAAC,EAAA,YAAY,MAAE,GAEtE,MACI,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qCACX,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,4DAAmD,iBACjE,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,+BACC,gBAAT,EACK,wCACA,qDAIJ,gBAAT,EACG,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,SArCI,AAAC,CAqCK,GApCxB,EAAE,cAAc,GAChB,EAAgB,MAEhB,EAAgB,UACZ,IAAM,EAAW,IAAI,SACrB,EAAS,MAAM,CAAC,QAAS,GACzB,EAAS,MAAM,CAAC,WAAY,GAE5B,GAAI,CACA,IAAM,EAAS,MAAM,CAAA,EAAA,EAAA,eAAA,AAAe,EAAC,GAEjC,GAAQ,MACR,CADe,CACC,EAAO,KAAK,EAE5B,EAAQ,MAEhB,CAAE,MAAO,EAAO,CACZ,EAAgB,gCACpB,CACJ,EACJ,EAgB2C,UAAU,sBACrC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACG,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,QAAQ,QAAQ,UAAU,2DAAkD,kBACnF,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACG,GAAG,QACH,KAAK,QACL,YAAY,mBACZ,QAAQ,CAAA,CAAA,EACR,MAAO,EACP,SAAU,AAAC,GAAM,EAAS,EAAE,MAAM,CAAC,KAAK,EACxC,UAAU,6MAGlB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACG,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,QAAQ,WAAW,UAAU,2DAAkD,aACtF,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACG,GAAG,WACH,KAAK,WACL,YAAY,WACZ,QAAQ,CAAA,CAAA,EACR,MAAO,EACP,SAAU,AAAC,GAAM,EAAY,EAAE,MAAM,CAAC,KAAK,EAC3C,UAAU,gNAKrB,GACG,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2GACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,0BACvB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,UAAG,OAIZ,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACG,KAAK,SACL,SAAU,EACV,UAAU,0OAET,EAAY,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAQ,UAAU,8BAAiC,KAAK,iBAK9E,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,OAAQ,EAAc,UAAU,sBAClC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,KAAK,SAAS,KAAK,QAAQ,MAAO,IACzC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,KAAK,SAAS,KAAK,WAAW,MAAO,IAE5C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACG,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,QAAQ,MAAM,UAAU,2DAAkD,sBACjF,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACG,GAAG,MACH,KAAK,MACL,KAAK,OACL,YAAY,SACZ,QAAQ,CAAA,CAAA,EACR,UAAW,EACX,UAAU,+NAEd,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,mDAA0C,iCAK1D,GACG,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2GACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,0BACvB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,UAAG,OAIZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACX,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACG,KAAK,SACL,UAAU,yLACb,YAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACG,KAAK,SACL,QAAS,IAAM,EAAQ,eACvB,UAAU,0JACb,qBAIL,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4BACX,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,mCAAyB,yBACX,IACvB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,KAAK,YAAY,UAAU,uDAA8C,sBASxG","ignoreList":[0,1,5]}